<!DOCTYPE html>
<html lang="en" class="glideajax-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ServiceNow: GlideAjax Best Practices</title>
    <meta name="description" content="GlideAjax made simple with practical analogies, a step-by-step guide, and a visual simulator.">
    <link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../../css/base.css">
    <link rel="stylesheet" href="../../../css/components.css">
    <link rel="stylesheet" href="../../../css/pages.css">
    <link rel="stylesheet" href="../../../css/glideajax.css">
    <meta property="og:title" content="ServiceNow: GlideAjax Best Practices">
    <meta property="og:description" content="Complete GlideAjax guide with practical analogies and an interactive lab for ServiceNow.">
    <meta property="og:image" content="https://brandao.sn/images/Perfil%20Brandao.jpg">
    <meta property="og:url" content="https://brandao.sn/en/estudos/glideajax/">
    <meta property="og:type" content="article">
    <link rel="alternate" hreflang="pt-br" href="https://brandao.sn/estudos/glideajax/">
    <link rel="alternate" hreflang="en" href="https://brandao.sn/en/estudos/glideajax/">
</head>
<body class="glideajax-page" data-base-path="../../" data-route="estudos" data-lang-slug="estudos/glideajax/">

<div class="blur-overlay" id="blur-overlay"></div>
<div id="particles"></div>

<div data-include="header"></div>

<div id="page-content">
    <div class="content-wrapper">
        <main>
            <div class="glideajax-container">

    <!-- Article Intro -->
    <section class="card article-intro">
        <div class="intro-header">
            <div class="icon-box bg-concept"><i class="fa-solid fa-pen-nib"></i></div>
            <div>
                <p class="intro-label">ServiceNow field guide</p>
                <h2>GlideAjax, Simplified</h2>
            </div>
        </div>
        <p class="intro-description">
            Learn GlideAjax with simple analogies and a visual lab to understand the exchange between Client Script, GlideAjax, and Script Include.
        </p>
        <div class="intro-meta">
            <span><i class="fa-solid fa-user-pen"></i> Itallo Brandão</span>
            <span><i class="fa-solid fa-calendar"></i> Nov 28, 2025</span>
        </div>
    </section>

    <!-- Low-code Awareness Section -->
    <section class="card concept best-practices">
        <h2>
            <div class="icon-box bg-gold"><i class="fa-solid fa-triangle-exclamation"></i></div>
            First check: is there Low-code or OOTB?
        </h2>
        <p class="ga-text-muted ga-mb-sm">
            Before spinning up a GlideAjax or any hardcoded solution, be brutally honest: does the platform already solve this? A <strong>Flow Designer</strong>, <strong>Integration Hub</strong>, <strong>Data Lookup</strong>, or even an OOTB component often delivers 80–100% of the requirement with far less effort and maintenance.
        </p>
        <ul class="step-list">
            <li class="step-item">
                <div class="step-num">1</div>
                <div class="step-content">
                    <strong>Map the requirement:</strong> describe what the user needs, process context, and the rules already in place.
                </div>
            </li>
            <li class="step-item">
                <div class="step-num">2</div>
                <div class="step-content">
                    <strong>Inventory your options:</strong> review OOTB catalogs, Store apps, and low-code resources before drafting a custom architecture.
                </div>
            </li>
            <li class="step-item">
                <div class="step-num">3</div>
                <div class="step-content">
                    <strong>Justify the custom build:</strong> if you still need code, document the reasons (functional gaps, performance, compliance) and proceed intentionally.
                </div>
            </li>
        </ul>
        <p class="ga-text-muted">
            That discipline saves time, keeps you aligned with ServiceNow best practices, and avoids needless legacy. When OOTB/low-code can’t cover it, that’s the moment to go hardcode.
        </p>
    </section>

    <section class="card ga-note">
        <h2>
            <div class="icon-box bg-gold"><i class="fa-solid fa-triangle-exclamation"></i></div>
            Important
        </h2>
        <p class="ga-text-muted">
            For learning purposes I picked a very simple scenario: fetching the user’s email via script. In a real project you’d solve this with Dot-Walking (showing related table fields) instead of coding. I chose this flow because it is clear and lightweight, so we can focus 100% on GlideAjax syntax without complex business logic distractions.
        </p>
    </section>

    <!-- GlideAjax Purpose Section -->
    <section class="card concept">
        <h2>
            <div class="icon-box bg-concept"><i class="fa-solid fa-sitemap"></i></div>
            Why GlideAjax exists
        </h2>
    <p class="ga-text-muted ga-mb-sm">
            GlideAjax is the safe bridge between the <strong>Client Script</strong> and the <strong>Script Include</strong>. It lets you pull server data without freezing the UI, respects ACLs, and cuts unnecessary backend calls.
        </p>
        <ul class="step-list">
            <li class="step-item">
                <div class="step-num">1</div>
                <div class="step-content">
                    <strong>Performance:</strong> asynchronous calls keep the user working while the response is on its way.
                </div>
            </li>
            <li class="step-item">
                <div class="step-num">2</div>
                <div class="step-content">
                    <strong>Security:</strong> Script Include ACLs stay in charge and block direct DB access.
                </div>
            </li>
            <li class="step-item">
                <div class="step-num">3</div>
                <div class="step-content">
                    <strong>Flexibility:</strong> return strings, JSON objects, or whatever payload the client must render.
                </div>
            </li>
        </ul>
    </section>

    <!-- Concept Section -->
    <section class="card concept">
        <h2>
            <div class="icon-box bg-concept"><i class="fa-solid fa-lightbulb"></i></div>
            Concept: The Asynchronous Waiter
        </h2>
    <p class="ga-text-muted ga-mb-md">
            The browser (Client Side) <strong>cannot</strong> touch the database directly for security and performance reasons. To request data from the server without reloading or freezing the page, we use <strong>GlideAjax</strong> as the middle person.
        </p>
        
        <div class="analogy-container">
            <div class="analogy-step">
                <i class="fa-solid fa-desktop fa-2x icon-client"></i>
                <p><strong>1. Client (Table)</strong><br><span class="analogy-note">You (Client Script) place the order at the table. No direct access to the kitchen (Database).</span></p>
            </div>
            <div class="analogy-arrow"><i class="fa-solid fa-arrow-right"></i></div>
            <div class="analogy-step">
                <i class="fa-solid fa-bell-concierge fa-2x icon-neutral"></i>
                <p><strong>2. GlideAjax (Waiter)</strong><br><span class="analogy-note">Carries the order (parameters) and brings back the dish (XML/JSON). The guest keeps chatting while they wait (asynchronous).</span></p>
            </div>
            <div class="analogy-arrow"><i class="fa-solid fa-arrow-right"></i></div>
            <div class="analogy-step">
                <i class="fa-solid fa-database fa-2x icon-server"></i>
                <p><strong>3. Server (Kitchen)</strong><br><span class="analogy-note">The Chef (Script Include) receives the order, queries the stock (DB) safely, and prepares the response.</span></p>
            </div>
        </div>
    </section>

    <!-- LIVE SIMULATOR -->
    <section class="card lab-card">
        <h2>
            <div class="icon-box bg-navy"><i class="fa-solid fa-play"></i></div>
            GlideAjax Interactive Lab
        </h2>
        <p class="ga-mb-md">
            Test GlideAjax below. Change the <strong>Caller</strong> field and watch the kitchen animation plus the logs happening in real time.
        </p>
        
        <div class="alert-box alert-expanded">
            <div>
                <strong><i class="fa-solid fa-triangle-exclamation"></i> Heads-up:</strong> The simulator below is a purely visual illustration (plain HTML/JS). Real GlideAjax code only runs inside a ServiceNow instance.
            </div>
        </div>

        <!-- SN FORM MOCKUP -->
        <div class="sn-form-container">
            <div class="sn-form-header">
                <span class="sn-form-title">Incident: INC0010042 (New Record)</span>
                <div class="sn-btn-group">
                    <button class="sn-btn sn-btn-primary">Submit</button>
                    <button class="sn-btn">Resolve</button>
                </div>
            </div>
            <div class="sn-form-body">
                <!-- Field: Number (Readonly) -->
                <div class="sn-field-row">
                    <label class="sn-label">Number</label>
                    <div class="sn-input-group">
                        <input type="text" class="sn-input readonly" value="INC0010042" readonly>
                    </div>
                </div>

                <!-- Field: Caller (Reference / Trigger) -->
                <div class="sn-field-row">
                    <label class="sn-label">Caller <span class="required-indicator">*</span></label>
                    <div class="sn-input-group">
                        <div class="sn-ref-wrapper">
                            <select id="caller_id" class="sn-input sn-select-fake" onchange="startSimulation(this.value)">
                                <option value="" selected>-- Select --</option>
                                <option value="abel">Abel Tuter</option>
                                <option value="abraham">Abraham Lincoln</option>
                                <option value="system">System Administrator</option>
                            </select>
                            <div id="field-spinner" class="field-loader"></div>
                            <i class="fa-solid fa-magnifying-glass sn-ref-icon"></i>
                        </div>
                    </div>
                </div>

                <!-- Field: Email (Target) -->
                <div class="sn-field-row">
                    <label class="sn-label">Caller Email</label>
                    <div class="sn-input-group">
                        <input type="text" id="u_email" class="sn-input readonly" placeholder="(Waiting for GlideAjax...)" readonly>
                    </div>
                </div>
                
                 <!-- Field: Short Description -->
                 <div class="sn-field-row">
                    <label class="sn-label">Short description</label>
                    <div class="sn-input-group">
                        <input type="text" class="sn-input" value="Need help with email setup">
                    </div>
                </div>

            </div>
            
            <!-- DEBUG PANELS -->
            <div class="debug-console">
                <div class="debug-header">
                    <span><i class="fa-solid fa-bug"></i> Debug Timeline</span>
                    <div class="debug-controls">
                        <!-- Step Controls -->
                        <div id="step-controls">
                            <button class="step-btn" onclick="manualStep(-1)" title="Previous"><i class="fa-solid fa-backward-step"></i></button>
                            <button class="step-btn" onclick="manualStep(1)" title="Next"><i class="fa-solid fa-forward-step"></i></button>
                        </div>

                        <select id="speed-control" class="speed-select" title="Simulation speed" onchange="toggleControls()">
                            <option value="0.5" selected>Automatic</option>
                            <option value="step">Manual</option>
                        </select>
                        <button class="debug-btn" onclick="resetAll()" title="Clear logs"><i class="fa-solid fa-trash"></i></button>
                    </div>
                </div>
                <div class="timeline-container" id="debug-timeline">
                    <div class="timeline-placeholder">
                        <i class="fa-regular fa-comments fa-2x"></i><br>
                        Waiting for a change on the form...
                    </div>
                </div>

                <!-- VISUAL ANIMATION AREA -->
                <div class="animation-stage">
                    <div class="path-line"></div>
                    
                    <!-- Client Actor -->
                    <div class="anim-actor actor-client">
                        <div id="bubble-client" class="speech-bubble">I need that email!</div>
                        <div class="anim-role">Client</div>
                        <div class="anim-icon"><i class="fa-solid fa-user"></i></div>
                        <div class="anim-tech">Client Script</div>
                    </div>

                    <!-- Waiter (Moving) -->
                    <div id="anim-waiter" class="anim-actor actor-waiter">
                        <div id="bubble-waiter" class="speech-bubble">On my way!</div>
                        <div class="anim-role">Waiter</div>
                        <div class="anim-icon"><i class="fa-solid fa-bell-concierge"></i></div>
                        <div class="anim-tech">GlideAjax</div>
                    </div>

                    <!-- Server Actor -->
                    <div class="anim-actor actor-server">
                        <div id="bubble-server" class="speech-bubble">Looking it up...</div>
                        <div class="anim-role">Cook</div>
                        <div id="anim-cook" class="anim-icon"><i class="fa-solid fa-fire-burner"></i></div>
                        <div class="anim-tech">Script Include</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="card simulator-warning simulator-rotate-warning" aria-live="polite">
        <h2>
            <div class="icon-box bg-navy"><i class="fa-solid fa-mobile-screen-button"></i></div>
            Rotate the screen to use the simulator
        </h2>
        <p>
            Almost there! This device has enough height—just switch it to landscape to unlock the GlideAjax interactive lab.
        </p>
    </section>

    <section class="card simulator-warning simulator-desktop-warning" aria-live="polite">
        <h2>
            <div class="icon-box bg-navy"><i class="fa-solid fa-desktop"></i></div>
            Simulator available only on tall screens
        </h2>
        <p>
            To experience the interactive lab, open this guide on a device with at least 900&nbsp;px of height (desktop, laptop, or tablet in landscape). You can still follow the full theory on mobile.
        </p>
    </section>

    <!-- SERVER SIDE -->
    <section class="card server">
        <h2>
            <div class="icon-box bg-server"><i class="fa-solid fa-server"></i></div>
            Step 1: The Backend (Script Include)
        </h2>
        
        <h3>How to create it in ServiceNow</h3>
        <ul class="step-list">
            <li class="step-item">
                <div class="step-num">1</div>
                <div class="step-content">Navigate to <strong>System Definition &gt; Script Includes</strong>.</div>
            </li>
            <li class="step-item">
                <div class="step-num">2</div>
                <div class="step-content">Click <strong>New</strong>.</div>
            </li>
            <li class="step-item">
                <div class="step-num">3</div>
                <div class="step-content">Set the <strong>Name</strong> (e.g., <span class="highlight-nav">UserDataHelper</span>). Keep it handy!</div>
            </li>
            <li class="step-item">
                <div class="step-num">4</div>
                <div class="step-content">
                    <span class="highlight-ui">IMPORTANT:</span> Check <strong>Client callable</strong>. Without it, the browser can’t call this script.
                </div>
            </li>
        </ul>

        <div class="code-wrapper">
            <div class="code-header">
                <div class="code-header-info">
                    <span>Script Include: UserDataHelper</span>
                    <span>Server-Side (JavaScript)</span>
                </div>
                <button type="button" class="code-copy-btn" aria-label="Copy code">
                    <i class="fa-regular fa-copy"></i>
                    <span class="copy-label">Copy code</span>
                </button>
            </div>
            <pre><code><span class="kwd">var</span> <span class="cls">UserDataHelper</span> = <span class="cls">Class</span>.create();
<span class="cls">UserDataHelper</span>.prototype = <span class="cls">Object</span>.extendsObject(<span class="cls">AbstractAjaxProcessor</span>, {

    <span class="com">// Function name exposed to the client</span>
    <span class="fn">getEmail</span>: <span class="kwd">function</span>() {
        
        <span class="com">// 1. Capture the parameter (snake_case by convention)</span>
        <span class="kwd">var</span> userId = <span class="kwd">this</span>.getParameter(<span class="str">'sysparm_user_id'</span>);
        <span class="kwd">if</span> (!userId) <span class="kwd">return</span> <span class="str">''</span>;
        
        <span class="com">// 2. Use GlideRecord to query the target table</span>
        <span class="kwd">var</span> gr = <span class="kwd">new</span> <span class="cls">GlideRecord</span>(<span class="str">'sys_user'</span>);
        
        <span class="kwd">if</span> (gr.get(userId)) {
            <span class="com">// 3. Return the value via getValue (more performant)</span>
            <span class="kwd">return</span> gr.getValue(<span class="str">'email'</span>) || <span class="str">''</span>;
        }
        
        <span class="kwd">return</span> <span class="str">''</span>;
    },

    type: <span class="str">'UserDataHelper'</span>
});</code></pre>
        </div>
    </section>

    <!-- CLIENT SIDE -->
    <section class="card client">
        <h2>
            <div class="icon-box bg-client"><i class="fa-solid fa-desktop"></i></div>
            Step 2: The Frontend (Client Script)
        </h2>

        <h3>How to create it in ServiceNow</h3>
        <ul class="step-list">
            <li class="step-item">
                <div class="step-num">1</div>
                <div class="step-content">Go to <strong>System Definition &gt; Client Scripts</strong>.</div>
            </li>
            <li class="step-item">
                <div class="step-num">2</div>
                <div class="step-content">Click <strong>New</strong>.</div>
            </li>
            <li class="step-item">
                <div class="step-num">3</div>
                <div class="step-content">Fill out: Table = <strong>Incident</strong>, Type = <strong>onChange</strong>, Field name = <strong>Caller</strong>.</div>
            </li>
        </ul>

        <div class="code-wrapper">
            <div class="code-header">
                <div class="code-header-info">
                    <span>Client Script</span>
                    <span>Client-Side (JavaScript)</span>
                </div>
                <button type="button" class="code-copy-btn" aria-label="Copy code">
                    <i class="fa-regular fa-copy"></i>
                    <span class="copy-label">Copy code</span>
                </button>
            </div>
            <pre><code><span class="kwd">function</span> onChange(control, oldValue, newValue, isLoading) {
    <span class="kwd">if</span> (isLoading) <span class="kwd">return</span>;

    <span class="com">// 1. Clear the field if the user removes the caller (avoid orphan data)</span>
    <span class="kwd">if</span> (newValue === <span class="str">''</span>) {
        g_form.setValue(<span class="str">'u_email'</span>, <span class="str">''</span>);
        <span class="kwd">return</span>;
    }

    <span class="com">// 2. Instantiate GlideAjax with the Script Include NAME</span>
    <span class="kwd">var</span> ga = <span class="kwd">new</span> <span class="cls">GlideAjax</span>(<span class="str">'UserDataHelper'</span>);
    
    <span class="com">// 3. Tell it which FUNCTION to run</span>
    ga.addParam(<span class="str">'sysparm_name'</span>, <span class="str">'getEmail'</span>);
    
    <span class="com">// 4. Send the parameters (use consistent naming)</span>
    ga.addParam(<span class="str">'sysparm_user_id'</span>, newValue);
    
    <span class="com">// 5. Fire the async call (getXMLAnswer is the modern default)</span>
    ga.getXMLAnswer(<span class="kwd">function</span>(answer) {
        <span class="com">// Guard against null/undefined</span>
        g_form.setValue(<span class="str">'u_email'</span>, answer || <span class="str">''</span>);
    });
}</code></pre>
        </div>

        <div class="alert-box">
            <i class="fa-solid fa-triangle-exclamation"></i>
            <div>
                <strong>Pro tip:</strong> Avoid <code>ga.getXMLWait()</code>. It locks the user’s browser until the server answers and creates terrible UX.
            </div>
        </div>
    </section>

    <!-- BEST PRACTICES -->
    <section class="card best-practices">
        <h2>
            <div class="icon-box bg-gold"><i class="fa-solid fa-star"></i></div>
            Golden Tips
        </h2>
        <ul class="step-list">
            <li class="step-item">
                <div class="step-num step-num-gold">1</div>
                <div class="step-content">
                    <strong>Use getXMLAnswer:</strong> Back then we used <code>getXML</code> and had to parse XML manually. <code>getXMLAnswer</code> already returns the clean string.
                </div>
            </li>
            <li class="step-item">
                <div class="step-num step-num-gold">2</div>
                <div class="step-content">
                    <strong>JSON for complex payloads:</strong> Need to send Email, Phone, and Title together? Don’t fire three GlideAjax calls. Return one JSON object (<code>JSON.stringify</code>) and parse it on the client (<code>JSON.parse</code>).
                </div>
            </li>
        </ul>
    </section>

    <!-- OFFICIAL DOCUMENTATION -->
    <section class="card concept docs">
        <h2>
            <div class="icon-box bg-concept"><i class="fa-solid fa-book"></i></div>
            Reference material
        </h2>
        <p class="ga-text-muted ga-mb-md">
            Explore official docs and community content to deepen your GlideAjax knowledge and keep your implementations aligned with platform best practices.
        </p>
        <ul class="resource-list">
            <li>
                <div>
                    <strong>Official documentation</strong>
                    <p>The latest ServiceNow GlideAjax documentation covering methods, parameters, and examples.</p>
                </div>
                <a href="https://www.servicenow.com/docs/bundle/zurich-api-reference/page/app-store/dev_portal/API_reference/GlideAjax/concept/c_GlideAjaxAPI.html" target="_blank" rel="noopener">Open</a>
            </li>
            <li>
                <div>
                    <strong>Community article on GlideAjax</strong>
                    <p>Great article by <a href="https://www.linkedin.com/in/dowler/" target="_blank" rel="noopener">Shawn Dowler</a> with a practical example and a clean explanation of the parameters.</p>
                </div>
                <a href="https://www.servicenow.com/community/developer-articles/glideajax-example-cheat-sheet-updated/ta-p/2323817" target="_blank" rel="noopener">Open</a>
            </li>
        </ul>
    </section>

    <section class="ga-connect">
        <h2>Let’s connect?</h2>
        <div class="icons contact-page-links">
            <a href="https://www.linkedin.com/in/itallobrandao/" target="_blank" rel="noopener" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
            <a href="https://github.com/IMBrandao" target="_blank" rel="noopener" aria-label="GitHub"><i class="bi bi-github"></i></a>
            <a href="https://www.youtube.com/@BrandaoSN" target="_blank" rel="noopener" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
            <a href="https://api.whatsapp.com/send/?phone=5562999284868&text=Ol%C3%A1%2C%20Brand%C3%A3o!%0ATudo%20bem%3F&type=phone_number&app_absent=0" target="_blank" rel="noopener" aria-label="WhatsApp"><i class="bi bi-whatsapp"></i></a>
        </div>
    </section>

            </div>
        </main>
    </div>
</div>

<div data-include="footer"></div>

<script src="../../../js/layout.js"></script>
<script src="../../../script.js"></script>
<script src="../../../js/glideajax-sim.js"></script>

</body>
</html>
